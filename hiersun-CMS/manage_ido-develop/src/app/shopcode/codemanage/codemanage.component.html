<!--<div class="page-head">
    <div class="page-title">
        <h1>门店二维码管理
            <small>Shopcode Manage</small>
        </h1>
    </div>
</div>-->
<div class="row">
    <div class="col-md-12">
        <div class="portlet box blue-hoki" style="min-width: 830px;">
            <div class="portlet-title">
                <div class="caption">
                门店二维码管理
                </div>
            </div>
            <div class="portlet-body">
                <div class="contenttab">
                    <div class="uploadview">
                        <a type="button" class="btn blue-hoki" data-target="#stack1" data-toggle="modal">
                            <i class="fa fa-plus"></i>
                            新建门店二维码
                        </a>
                        <a type="button" class="btn green" data-toggle="button" (click)='derive()'>
                            <i class="fa fa-paper-plane"></i>
                            批量导出二维码
                        </a>
                    </div>
                    <div class="choosesx">
                        <form class="form-inline" role="form">
                            <div class="pad col-md-4">
                                <label class="control-label col-md-4">品牌名称 :</label>
                                <div class='col-md-8'>
                                    <select class="form-control brandname" (change)='chooseshopcode()' style="width: 100%" data-placeholder="请选择品牌名称">
                                        <option value="10" selected="true">I DO</option>
                                        <!--<option *ngFor='let brandlist of brandlist' [attr.selected]="brandlist.brandSid=='10'?true:null" value="{{brandlist.brandSid}}" selected="true">{{brandlist.brandName}}</option>-->
                                    </select>
                                </div>
                            </div>
                            <div class="pad col-md-4">
                                <label class="control-label col-md-4">微信公众号 :</label>
                                <div class='col-md-8'>
                                    <select class="form-control accountslist" style="width: 100%" disabled="true">
                                        <option *ngFor="let accountslist of publiccodelist;" value="{{accountslist.appid}}" [attr.selected]="accountslist.appid==accountsappid?true:null">{{accountslist.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad col-md-4">
                                <label class="control-label col-md-4">状态 :</label>
                                <div class="col-md-8">
                                    <select name="state" class="form-control" id="state">
                                        <option value="">请选择</option>
                                        <option value="1">启用</option>
                                        <option value="0">禁用</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad aboutstore col-md-4">
                                <label class="control-label col-md-4">大区名称 :</label>
                                <div class='col-md-8'>
                                    <!--<input type="text" class="regionsearch form-control" placeholder="请输入大区名称">-->
                                    <select  class="regionsearch col-md-12 form-control select2me" style='width: 100%!important'  data-placeholder="请输入大区名称">
                                        <option value=""></option>
                                        <option *ngFor="let item of districtlist;let i=index"  value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad aboutstore col-md-4">
                                <label class="control-label col-md-4">城市名称 :</label>
                                <div class='col-md-8'>
                                    <!--<input type="text" class="citysearch form-control" placeholder="请输入城市名称">-->
                                    <select  class="citysearch col-md-12 form-control select2me" style='width: 100%'  data-placeholder="请输入城市名称">
                                        <option value=""></option>
                                        <option *ngFor="let item of citylist;let i=index" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad aboutstore col-md-4">
                                <label class="control-label col-md-4">门店名称 :</label>
                                <div class='col-md-8'>
                                    <!--<input type="text" class="store_name form-control" placeholder="请输入门店名称">-->
                                    <select class="store_name col-md-12 form-control" style='width: 100%'  data-placeholder="请选择门店名称">
                                        <option value=""></option>
                                        <option *ngFor="let item of newcitylist;let i=index" value="{{item.organizationCode}}:{{item.addrAreaName}}:{{item.addrRegion}}">{{item.organizationCode}}:{{item.organizationName}}</option>
                                    </select>
                                </div>
                            </div>
                            <!--<div class="form-group col-md-4">
                                <label class="control-label col-md-4">门店编码：</label>
                                <div class="aaaaaa col-md-8">
                                    <select class="store_code col-md-12 form-control select2me" style='width: 100%'  data-placeholder="请输入门店编码">
                                        <option value="">请选择</option>
                                        <option *ngFor="let item of codeList;let i=index" title="{{item.isOnline}}" value="{{item.organizationCode}}">{{item.organizationCode}}</option>
                                    </select>
                                </div>
                            </div>-->
                            <div class="pad date col-md-4">
                                <label class="control-label create_time col-md-4">开始时间 :</label>
                                <div class='col-md-8 begin_time_box'>
                                    <input id="beginDt" class='start_time form-control' type="text" placeholder="请选择开始时间">
                                </div>
                            </div>
                            <div class="pad date col-md-4">
                                <label class="control-label create_time col-md-4">结束时间 :</label>
                                <div class='col-md-8'>
                                    <input id="endDt" class='end_time form-control' type="text" placeholder="请选择结束时间">
                                </div>
                            </div>
                            <div class="pad form-group col-md-4">
                                <label class="control-label col-md-4">是否绑定 :</label>
                                <div class="col-md-8">
                                    <select name="bind" class="form-control" id="bind">
                                        <option value="">请选择</option>
                                        <option value="1">是</option>
                                        <option value="0">否</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad form-group col-md-4">
                                <label class="control-label col-md-4">门店状态 :</label>
                                <div class="col-md-8">
                                    <select name="bind" class="form-control statussearch">
                                        <option value="">请选择</option>
                                        <option value="1">开店</option>
                                        <option value="0">闭店</option>
                                    </select>
                                </div>
                            </div>
                            <div class="pad btn_container col-md-4">
                                <button id="btnSearch" type="button" class="btnstyle btn default" (click)="loadStoreList()">查询
                                    <i class="fa fa-search"></i>
                                </button>
                                <button id="btnReset" type="button" class="btnstyle btn default" (click)="resetTag()">清空
                                    <i class="fa fa-times"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                    <div style="clear:both;height:10px;"></div>
                    <!--<div class="portlet box blue-hoki">-->
                        <!--<div class="portlet-title">
                            <div class="caption">
                                <i class="fa fa-globe"></i>门店二维码列表
                            </div>
                            <div class="tools">
                                <a href="javascript:;" class="collapse" data-original-title="" title=""></a>
                            </div>
                        </div>-->
                        <!--body-->
                        <div class="portlet-body">

                            <div class="table-scrollable">
                                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_1" role="grid" aria-describedby="sample_1_info">
                                    <thead>
                                        <tr>
                                            <th style="width:1%">序号</th>
                                            <th style="width:2%">二维码编码</th>
                                            <th style="width:2%">门店号</th>
                                            <th style="width:6%">门店类型</th>
                                            <th style="width:11%">大区</th>
                                            <th style="width:11%">城市</th>
                                            <th style="width:13%">门店名称</th>
                                            <th style="width:8%">二维码</th>
                                            <th style="width:8%">品牌</th>
                                            <th style="width:14%">创建时间</th>
                                            <th style="width:3%">是否绑定</th>
                                            <th style="width:3%">门店状态</th>
                                            <th style="width:3%">状态</th>
                                            <th style="width:15%">操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of list;let i = index">
                                            <td style="position: relative;" (click)='journal(item.id)'><u>{{i+1}}</u> <a class="log" href='javascript:;' ></a> </td>
                                            <td style="position: relative;" (click)='journal(item.id)' id="store_id"><u>{{item.id}}</u><a class="log" href='javascript:;' ></a></td>
                                            <td id="store_code">{{item.code}}</td>
                                            <td>{{item.newcode}}</td>
                                            <td>{{item.addrRegion}}</td>
                                            <td>{{item.addrAreaName}}</td>
                                            <td id="store_name">{{item.name}}</td>
                                            <td (click)='bigimg(item.qrcodeImg)'>
                                                <img class="barcode_image" src="{{item.qrcodeImg}}">
                                            </td>
                                            <td>{{item.brand}}</td>
                                            <td>{{item.createTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                            <td *ngIf='!item.code'>
                                                <span class="label label-sm label-danger">否</span>
                                            </td>
                                            <td *ngIf='item.code'>
                                                <span class="label label-sm label-success">是</span>
                                            </td>
                                            <td *ngIf='item.organizationStatus!=1 && item.code && item.organizationStatus'>
                                                <span class="label label-sm label-danger">闭店</span>
                                            </td>
                                            <td *ngIf='item.organizationStatus==1 || !item.code || !item.organizationStatus'>
                                                <span class="label label-sm label-danger"> </span>
                                            </td>
                                            <td *ngIf='item.state==0||item.state==-1'>
                                                <span class="label label-sm label-danger">禁用</span>
                                            </td>
                                            <td *ngIf='item.state==1'>
                                                <span class="label label-sm label-success">启用</span>
                                            </td>
                                            <td>
                                                <a href="javascript:;" class="btn btn-xs blue-madison" *ngIf='!item.code' (click)="selectshow(item.id,item.brandCode)">
                                                    绑定
                                                    <i class="fa fa-link"></i>
                                                </a>
                                                <a href="javascript:;"  class="btn btn-xs red blue-madison" *ngIf='item.code&&item.state!=1' (click)="removebindshow(item.id,item.code)">
                                                    解绑
                                                    <i class="fa  fa-unlink"></i>
                                                </a>
                                                <a href="javascript:;" class="btn btn-xs btn-info" *ngIf='item.code' (click)='dereve(i)'>
                                                    导出
                                                    <i class="fa fa-paper-plane"></i>
                                                </a>
                                                <a href="javascript:;" class="btn btn-xs green" *ngIf='item.code&&item.state==0||item.state==-1' data-toggle="modal" href="#awake"
                                                    (click)='start(item.id,item.state)'>
                                                    启用
                                                    <i class="fa fa-exchange"></i>
                                                </a>
                                                <a href="javascript:;" class="btn btn-xs red" *ngIf='item.state==1' data-toggle="modal" href="#awake" (click)='start(item.id,item.state)'>
                                                    禁用
                                                    <i class="fa fa-exchange"></i>
                                                </a>
                                                <!--data-toggle="modal" href="#editshopcode"-->
                                                <a href="javascript:;" class="btn btn-xs blue" *ngIf='item.code' (click)='editshopcode(item,item.brandCode)'>
                                                    修改
                                                    <i class="fa fa-edit"></i>
                                                </a>
                                            </td>
                                        </tr>
                                        <tr *ngIf="nodata==false">
                                            <td colspan="11" style="text-align:center;padding:10px;">暂时还没有数据</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="clearfix">
                                <div id="pagination1" class="page"></div>
                            </div>
                            <div class="pop_up none" (click)='img_none()'>
                                <img src="" alt="" class="large_img none">
                            </div>
                        </div>
                    <!--</div>-->

                </div>
            </div>
        </div>
    </div>
</div>
<div id="hint" *ngIf="isHint">
    <div class="hintMsg">
        <i *ngIf="warning" class="warningMsg"></i>
        <i *ngIf="!warning" class="ok"></i>
        <span>{{hintMsg}}</span>
    </div>
</div>
<!--新建门店二维码-->
<div id="stack1" class="modal fade" tabindex="-1" data-width="400">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">门店二维码</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="ffSearch">
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-3">品牌：</label>
                                <div class="col-md-9">
                                    <!--<select style="width:80%">
                                        <option value="10" checked>I DO</option>
                                    </select>-->
                                    <select class="form-control" style="width:80%">
                                        <option value="{{10}}" checked>I DO</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-3">公众号：</label>
                                <div class="col-md-9">
                                    <select class="form-control" style="width:80%">
                                       <!--上线修改成正式的appid <option value="wx9ceb85b810bf384c" checked>IDO官方</option>-->
                                        <option value="wx9ceb85b810bf384c" checked>IDO官方测试</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">取消</button>
                <button type="button" class="btn red" (click)="markcode()">确定</button>
            </div>
        </div>
    </div>
</div>
<!--新建门店二维码end-->
<!--绑定门店-->
<div id="bindshop" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="bindshop" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" (click)='cleardata()' class="bootbox-close-button close" data-dismiss="modal" aria-hidden="true">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">×</font>
                    </font>
                </button>
                <h4 class="modal-title">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">绑定门店</font>
                    </font>
                </h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="ffSearch">
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-2">品牌：</label>
                                <div class="col-md-6">
                                    <select id="select1_cate" class="form-control select2me cateId2" disabled="true">
                                        <option *ngFor="let item of brandlist;" value="{{item.brandSid}}" [attr.selected]="item.brandSid==brandid?true:null">{{item.brandName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-2">公众号：</label>
                                <div class="col-md-6">
                                    <select id="select2_cate" class="form-control select2me publiccode" data-placeholder="请选择公众号">
                                        <option value=""></option>
                                        <option *ngFor="let item of publiccodelist;let publiccodekey=index" value="{{item.appid}}">{{item.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-2">大区：</label>
                                <div class="col-md-6">
                                    <select class="form-control select2me district" data-placeholder="请选择大区">
                                        <option value=""></option>
                                        <option *ngFor="let item of districtlist;let districtkey=index" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-2">城市：</label>
                                <div class="col-md-6">
                                    <select class="form-control select2me citys" data-placeholder="请选择城市">
                                        <option value=""></option>
                                        <option *ngFor="let item of citylist;let citykey=index" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row margin-search height-30">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-2">门店：</label>
                                <div class="col-md-6">
                                    <select  class="form-control select2me shops" data-placeholder="请选择门店">
                                        <option value=""></option>
                                        <option *ngFor="let item of shopslist;let shopskey=index" value="{{item.organizationCode}}:{{item.addrAreaName}}:{{item.addrRegion}}">{{item.organizationCode}}:{{item.organizationName}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <a class="desc"></a>
                <button class="btn default" data-dismiss="modal" (click)='cleardata()' aria-hidden="true">取消</button>
                <button class="btn blue delsure" (click)="shopsure()">确认</button>
            </div>
        </div>
    </div>
</div>
<!--绑定门店end-->
<!--启用禁用-->
<div id="awake" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="bindshop" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="bootbox-close-button close" data-dismiss="modal" aria-hidden="true">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">×</font>
                    </font>
                </button>
            </div>
            <div class="modal-body">
                <p>是否确认启用（禁用）该门店二维码</p>
            </div>
            <div class="modal-footer">
                <button class="btn default" data-dismiss="modal" aria-hidden="true">取消</button>
                <button data-dismiss="modal" class="btn blue delsure" (click)="starting()">确认</button>
            </div>
        </div>
    </div>
</div>
<!--启用禁用end-->
<!--解除绑定-->
<div id="removebind" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="bindshop" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="bootbox-close-button close" data-dismiss="modal" aria-hidden="true">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">×</font>
                    </font>
                </button>
            </div>
            <div class="modal-body">
                <p>是否确认解除绑定</p>
            </div>
            <div class="modal-footer">
                <button class="btn default" data-dismiss="modal" aria-hidden="true">取消</button>
                <button data-dismiss="modal" class="btn blue delsure" (click)="removebind()">确认</button>
            </div>
        </div>
    </div>
</div>
<!--修改-->
<div id="editshopcode" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="bindshop" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="bootbox-close-button close" (click)='cleardata()' data-dismiss="modal" aria-hidden="true">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">×</font>
                    </font>
                </button>
                <h4 class="modal-title">
                    <font style="vertical-align: inherit;">
                        <font style="vertical-align: inherit;">修改</font>
                    </font>
                </h4>
            </div>
            <div class="modal-body" style="min-height:330px">
                <form class="form-inline" role="form">
                    <!---->
                    <div class="col-md-12 clearfix">
                        <div class="md-radio-inline">
                            <div class="md-radio">
                                <input type="radio" id="ishow" (change)='qrcodehint()' name="isdislpay" title="0" class="form-control md-radiobtn" checked (click)='updatecode(1)'>
                                <label for="ishow">
                                    <span></span>
                                    <span class="check"></span>
                                    <span class="box"></span>
                                    门店换新码</label>
                            </div>
                            <div class="md-radio">
                                <input type="radio" id="ihide" (change)='qrcodehint()' name="isdislpay" title="1" class="form-control md-radiobtn" (click)='updatecode(2)'>
                                <label for="ihide">
                                    <span></span>
                                    <span class="check"></span>
                                    <span class="box"></span>
                                    更改门店号</label>
                            </div>
                        </div>
                    </div>
                    <!---->
                    <!--门店换新码-->
                    <div class="col-md-12 clearfix" *ngIf="updatemethod==1">
                        <div class="md-radio-inline">
                            <div class="md-radio">
                                <input type="radio" id="unbind" name="replacecode" title="0" class="form-control md-radiobtn" checked (click)="oldnewcode()">
                                <label for="unbind">
                                    <span></span>
                                    <span class="check"></span>
                                    <span class="box"></span>
                                    已创建未绑定的二维码替换</label>
                            </div>
                            <div class="md-radio">
                                <input type="radio" id="newcode" name="replacecode" title="1" class="form-control md-radiobtn" (click)="oldnewcode()">
                                <label for="newcode">
                                    <span></span>
                                    <span class="check"></span>
                                    <span class="box"></span>
                                    建新码替换</label>
                            </div>
                        </div>
                    </div>
                    <!--如果选择的是创建未绑定的二维码替换-->
                    <div class="col-md-12 clearfix" *ngIf="coderep==1">
                        <form class="form-horizontal">
                            <div class="form-group col-md-12">
                                <label class="col-md-4 control-label">
                                    <span>选择二维码编码：</span>
                                </label>
                                <div class="col-md-8">
                                    <select class="form-control mynewcode" (change)='qrcodehint()' style="width:70%;">
                                        <option value="">请选择</option>
                                        <option *ngFor="let item of unbindcodelist;" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!--如果选择的是创建未绑定的二维码替换 end-->
                    <!--建新码替换-->
                    <div class="col-md-12 clearfix" *ngIf="coderep==2">
                        <form class="form-horizontal">
                            <div class="form-group col-md-12" style="margin-bottom:15px">
                                <label class="col-md-3 control-label">
                                    <span>品牌：</span>
                                </label>
                                <div class="col-md-9">
                                    <select class="form-control" disabled='disabled' style="width:80%">
                                        <option value="{{currentmsg.brandCode}}" checked>{{currentmsg.brand}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <label class="col-md-3 control-label">
                                    <span>公众号：</span>
                                </label>
                                <div class="col-md-9">
                                    <select class="form-control gznumber" style="width:80%" disabled="true">
                                        <option *ngFor="let gznumber of publiccodelist;" value="{{gznumber.appid}}" [attr.selected]="gznumber.appid==currentmsg.appid?true:null">{{gznumber.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!--建新码替换end-->
                    <!--门店换新码-->
                    <!--更改门店号-->
                    <div class="col-md-12 clearfix numbershop" style="display:none">
                        <form class="form-horizontal">
                            <div class="form-group col-md-12 bottomm">
                                <label class="col-md-3 control-label">
                                    <span>门店名称：</span>
                                </label>
                                <div class="col-md-7 control-label oldshopname" style="text-align:left">
                                    <!-- {{currentmsg.name}} -->
                                </div>
                            </div>
                            <div class="form-group col-md-12 bottomm">
                                <label class="col-md-3 control-label">
                                    <span>门店号：</span>
                                </label>
                                <div class="col-md-7 control-label oldshopnum" style="text-align:left">
                                    <!-- {{currentmsg.code}} -->
                                </div>
                            </div>
                            <div class="form-group col-md-12 bottomm">
                                <label class="col-md-3 control-label">
                                    <span>品牌：</span>
                                </label>
                                <div class="col-md-7 control-label oldtrademark" style="text-align:left">
                                    <!-- {{currentmsg.code}} -->
                                </div>
                            </div>
                            <div class="form-group col-md-12 bottomm">
                                <label class="control-label col-md-3">大区：</label>
                                <div class="col-md-7">
                                    <select class="form-control select2me district2"  data-placeholder="请选择大区" style="width:80%">
                                        <option value=""></option>
                                        <option *ngFor="let item of districtlist;let districtkey2=index" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-12 bottomm">
                                <label class="control-label col-md-3">城市：</label>
                                <div class="col-md-7">
                                    <select class="form-control select2me citys2"  data-placeholder="请选择城市" style="width:80%">
                                        <option value=""></option>
                                        <option *ngFor="let item of citylist;let citykey=index" value="{{item}}">{{item}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-12 bottomm">
                                <label class="control-label col-md-3">门店：</label>
                                <div class="col-md-7">
                                    <select class="form-control select2me shops2"  data-placeholder="请选择门店" style="width:80%">
                                        <option value=""></option>
                                        <option *ngFor="let item of shopslist;let shopskey=index" value="{{item.organizationCode}}:{{item.addrAreaName}}:{{item.addrRegion}}">{{item.organizationCode}}:{{item.organizationName}}</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!--更改门店号end-->
                </form>
            </div>
            <div class="modal-footer">
                <a class="desc"></a>
                <button class="btn default" data-dismiss="modal" (click)='cleardata()' aria-hidden="true">取消</button>
                <button class="btn blue delsure updatecode" (click)="replaceshopcode()">确认</button>
            </div>
        </div>
    </div>
</div>
<!--修改end-->
<!--获取日志-->
<div id="journal">
    <div class="journal_content">
        <div class="journal_top">
            二维码操作日志
            <!--<span (click)='close()' style="float: right;height: 55px;line-height: 55px;font-size: 20px">x</span>-->
            <input type="button" (click)='close()' style="float: right;height: 40px;line-height: 40px;font-size: 20px;border: none;background: none;outline: none;" value="x">
        </div>
        <div class="journal_list">
            <!--<div class="journal_title">二维码操作日志列表</div>-->
            <!--<div class="table-scrollable" style="margin-top: 0!important">-->
            <div class="table-scrollable">
                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_2" role="grid" aria-describedby="sample_2_info" style="border-bottom: none;">
                    <thead>
                        <tr>
                            <th style="width:2%">序号</th>
                            <th style="width:20%">操作记录</th>
                            <th style="width:18%">门店编号</th>
                            <th style="width:20%">二维码id</th>
                            <th style="width:20%">二维码类别</th>
                            <th style="width:20%">管理员编号</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of journalData;let i = index">
                            <td>{{i+1}}</td>
                            <td *ngIf='item.action == "ADD" '>添加</td>
                            <td *ngIf='item.action == "BIND" '>绑定二维码</td>
                            <td *ngIf='item.action == "UNBIND" '>解绑二维码</td>
                            <td *ngIf='item.action == "ENABLED" '>启用二维码</td>
                            <td *ngIf='item.action == "DISABLED" '>禁用二维码</td>
                            <td>{{item.code}}</td>
                            <td>{{item.dynamicQrCodeId}}</td>
                            <td *ngIf='item.fnType==0'>内置二维码</td>
                            <td *ngIf='item.fnType==1'>门店二维码</td>
                            <td *ngIf='item.fnType==2'>市场活动二维码</td>
                            <td *ngIf='item.fnType==3'>渠道活动二维码</td>
                            <td>{{item.uid}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="clearfix" style="text-align: center">
                <div id="pagination2" class="page2"></div>
            </div>
        </div>
    </div>
</div>
<div class="loading" style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;display: none">

</div>