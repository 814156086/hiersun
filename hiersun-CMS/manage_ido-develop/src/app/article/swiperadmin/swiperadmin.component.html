<div class="page-head">
   <!--BEGIN PAGE TITLE -->
  <div class="page-title">
    <h1>甜蜜秀轮播图管理
      <small>Swiper Admin Management</small>
    </h1>
  </div>
  <!-- END PAGE TITLE -->
</div>
<div class="row">
  <div class="col-md-12">
    <div class="portlet-body">
      <div class="contenttab">
        <a class="btn blue-hoki" routerLink="/article/addswiper" style="margin-bottom:20px;">新增轮播</a>
        <div class="portlet box blue-hoki">
          <div class="portlet-title">
            <div class="caption">
              <i class="fa fa-globe"></i>轮播图列表
            </div>
            <div class="tools">
              <a href="javascript:;" class="collapse" data-original-title="" title=""></a>
            </div>
          </div>
          <!--body-->
          <div class="portlet-body">

            <div class="table-scrollable">
                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_1" role="grid" aria-describedby="sample_1_info">
                <thead>
                  <tr>
                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:2%">
                        排序
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:15%">
                      轮播图名称
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:25%">
                      缩略图
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:15%">
                      创建时间
                    </th>

                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:2%">
                      状态
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:41%">
                     操作
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of list">
                    <td>{{item.stickNum}}</td>
                    <td>{{item.picTitle}}</td>
                    <td><img class="swiper_img" src="{{item.picPath}}" alt=""></td>
                    <td>{{item.createDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td *ngIf="item.picStatus">启用</td>
                    <td *ngIf="!item.picStatus">禁用</td>
                    <td class="button">
                      <a class="btn btn-xs btn-info"   (click)="edit(item.id)">
                        <i class="fa fa-edit"></i>编辑</a>
                      <a *ngIf="item.picStatus" class="btn blue-madison btn-xs" (click)="operator(item.id,false)">
                          <i class="fa fa-save"></i>禁用</a>
                      <a *ngIf="!item.picStatus"  class="btn blue-madison btn-xs" (click)="operator(item.id,true)">
                        <i class="fa fa-save"></i>启用</a>
                      <a class="btn blue btn-xs" (click)="zhiding(item.id)">
                          <i class="fa fa-copy"></i>设置置顶</a>
                      <a class="btn red btn-xs" (click)="operator(item.id,'del')">
                        <i class=" fa fa-trash-o"></i>删除</a>
                        
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!--设置置顶值-->
<div class="modal fade" id="zhiding_model" role="dialog" aria-labelledby="zhiding_model" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form class="templatecon form-horizontal ng-untouched ng-pristine ng-valid" [formGroup]="formModel" (submit)="onSubmit()">
        <div class="modal-body">
          <div class="form-group">
            <label class="col-md-2 control-label">
              <span style="color:red;">*</span>置顶值：</label>
            <div class="col-md-8">
              <input class="form-control" id="stickNum" [class.hasError]="formModel.get('stickNum').invalid && formModel.get('stickNum').touched" type="text"
                     formControlName="stickNum" name="stickNum" [(ngModel)]="stickNum" placeholder="请输入置顶值" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">
              <div [hidden]="formModel.get('stickNum').untouched">
                <div class="formtips" [hidden]="!formModel.hasError('required',['stickNum'])">
                  置顶值必填
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer btn_div">
          <span class="removepagetips" style="margin-right:20px;color:#f00;"></span>
          <button class="btn blue" type="submit" [disabled]="formModel.invalid" >确定</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
      </form>
    </div>
  </div>
</div>


<div class="spinner" *ngIf="isload">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
  </div>
<div id="hint" *ngIf="isHint">
  <div class="hintMsg">{{hintMsg}}</div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="width: 400px">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">轮播图列表</h4>
      </div>
      <div class="modal-body">{{message}}</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="subStatus()" >确定</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
      </div>
    </div>
  </div>
</div>



