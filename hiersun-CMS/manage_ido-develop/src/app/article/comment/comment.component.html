
<div class="page-head">
  <!-- BEGIN PAGE TITLE -->
  <div class="page-title">
    <h1>评论管理
      <small>Comments  The Management</small>
    </h1>
  </div>
  <!-- END PAGE TITLE -->
</div>
<div class="row">
  <div class="col-md-12">
    <div class="portlet-body">
      <div class="contenttab">
        <div class="templatecon form-horizontal ng-untouched ng-pristine">
          <div class="form-group" style="position: relative;">
            <div class="col-md-11">
              <span  class="btn blue-hoki fileinput-button" (click)="go_back()">返回</span>
            </div>
          </div>
        </div>
        <div style="margin-bottom:10px;">
          <div class="form-horizontal" id="ffSearch">
            <div class="row">
              <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="form-group">
                  <label class="control-label col-md-4">评论内容：</label>
                  <div class="col-md-8">
                    <input id="comment" name="comment" type="text" class="form-control">
                  </div>
                </div>
              </div>

              <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="form-group">
                  <label class="control-label col-md-4">评论状态：</label>
                  <div class="col-md-8">
                    <select id="status" class="form-control">
                      <option value="">全部</option>
                      <option value="1">显示</option>
                      <option value="0">删除</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="form-group">
                  <label class="control-label col-md-4">敏感词：</label>
                  <div class="col-md-8">
                    <select id="wordStatus" class="form-control">
                      <option value="">全部</option>
                      <option value="1">是</option>
                      <option value="0">否</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="form-group">
                  <label class="control-label col-md-4">评论时间：</label>
                  <div class="col-md-8">
                    <input type="text" id="beginDt" class="beginDate form-control" readonly>
                  </div>
                  <div class="col-md-8" style="margin-left: 380px;margin-top: -35px">
                      <input type="text" id="endDt" class="beginDate form-control" readonly>
                  </div>
                </div>
              </div>



            </div>
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12" style="text-align:center;">
                <button id="btnSearch" type="button" class="btn default right" (click)="searhInfo()">查询
                  <i class="fa fa-search"></i>
                </button>
                <button id="btnReset" type="button" class="btn default right" (click)="request()">
                  <i class="fa fa-times"></i>重置
                </button>
              </div>
            </div>
          </div>
        </div>


        <div class="templatecon form-horizontal ng-untouched ng-pristine">
          <div class="form-group" style="position: relative;">
            <div class="col-md-11">


                <span  class="btn blue-hoki fileinput-button" (click)="operation('','del')">删除</span>

                <span class="btn blue-hoki fileinput-button" (click)="operation('','read')">已读</span>

            </div>
          </div>
        </div>


        <div class="portlet box blue-hoki">
          <div class="portlet-title">
            <div class="caption">
              <i class="fa fa-globe"></i>评论列表
            </div>
            <div class="tools">
              <a href="javascript:;" class="collapse" data-original-title="" title=""></a>
            </div>
          </div>
          <!--body-->
          <div class="portlet-body">

            <div class="table-scrollable">
              <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_1" role="grid" aria-describedby="sample_1_info">
                <thead>
                <tr>
                  <th class="sorting" style="width:5%">
                    <div class="md-checkbox">
                      <input type="checkbox" id="checkbox_all" class="md-check" (change)="changeSelect()">
                      <label for="checkbox_all">
                        <span></span>
                        <span class="check"></span>
                        <span class="box"></span>
                      </label>
                    </div>
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:10%">
                    昵称
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:20%;">
                    内容
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:15%;">
                    时间
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:10%;">
                    状态
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:5%;">
                    是否已读
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"  style="width:5%;">
                    点赞数
                  </th>
                  <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" >
                    操作
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of list" >
                  <td>
                    <div class="md-checkbox">
                      <input type="checkbox" id="checkbox{{item.id}}" value="{{item.id}}" name="check_no" class="md-check">
                      <label for="checkbox{{item.id}}">
                        <span></span>
                        <span class="check"></span>
                        <span class="box"></span>
                      </label>
                    </div>
                  </td>
                  <td>{{item.nickName}}</td>
                  <td>{{item.comment}}</td>
                  <td>{{item.createDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                  <td *ngIf="item.status==1">显示</td>
                  <td *ngIf="item.status==0">已删除</td>
                  <td *ngIf="item.readStatus==1">已读</td>
                  <td *ngIf="item.readStatus==0">未读</td>
                  <td>{{item.fabulousNumOfComment}}</td>
                  <td>
                    <a *ngIf="item.readStatus==0"  class="btn btn-xs btn-info"  (click)="operation(item.id,'read')">
                    <i class="fa fa-edit"></i> 已读</a>
                    <a *ngIf="item.status==0"  class="btn btn-xs btn-info"  (click)="operation(item.id,'recovery')">
                      <i class="fa fa-edit"></i> 恢复</a>
                    <a *ngIf="item.status==1"   class="btn btn-xs red"  (click)="operation(item.id,'del')">
                      <i class="fa fa-trash-o"></i> 删除</a>
                    <a  *ngIf="item.status==1" href="{{item.idoUrl}}article-{{item.code}}-{{item.subCode}}/{{item.artContentId}}/#comment_T" class="btn btn-xs yellow"  target="_blank">
                      <i class="fa fa-link"></i> 查看</a>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <!--pagema-->
            <div class="clearfix box">
              <div id="pagination1" class="page fr"></div>
            </div>
            <!--pagema-->
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<div class="spinner" *ngIf="isload">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
</div>
<div id="hint" *ngIf="isHint">
  <div class="hintMsg">{{hintMsg}}</div>
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="width: 400px">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">评论列表</h4>
      </div>
      <div class="modal-body">{{message}}</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="subStatus()" >确定</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
      </div>
    </div>
  </div>
</div>



