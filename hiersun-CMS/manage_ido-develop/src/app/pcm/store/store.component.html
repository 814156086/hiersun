<div class="row">
  <div class="col-md-12">
    <div class="portlet box blue-hoki">
      <div class="portlet-title">
        <div class="caption">
          门店管理
        </div>
        <!-- <div class="tools">
          <a href="javascript:;" class="collapse" data-original-title="" title="">
          </a>
        </div> -->
      </div>
      <div class="portlet-body">
        <!-- addedit -->
        <div class="clearfix">
          <button type="button" class="btn red" data-toggle="button" routerLink="addstore">
            <i class="fa fa-plus"></i>
            添加门店 </button>
          <button type="button" class="btn btn-primary" data-toggle="button" (click)="editStore()">
            <i class="fa fa-edit"></i>
            修改门店 </button>
        </div>
        <!-- search -->
        <form class="form-horizontal" id="ffSearch">
          <div class="row margin-search sec_line">
            <div class="col-md-3 col-sm-6 col-xs-12">
              <div class="form-group">
                <label class="control-label col-md-4">所属上级</label>
                <div class="col-md-8">
                  <select name="company" id="companyCode" class="comId form-control">
                    <option value="">请选择</option>
                    <option *ngFor="let comitem of companyList;let comkey=index" value="{{comitem.sid}}">{{comitem.name}}({{comitem.organizationCode}})</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-12">
              <div class="form-group">
                <label class="control-label col-md-4">门店名称</label>
                <div class="col-md-8">
                  <input type="text" class="form-control stoName" placeholder="请输入门店名称">
                </div>
              </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-12">
              <div class="form-group">
                <label class="control-label col-md-4">门店编码</label>
                <div class="col-md-8">
                  <input type="text" class="form-control stoCode" placeholder="请输入门店编码">
                </div>
              </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-12">
              <div class="form-group">
                <button id="btnSearch" type="button" class="btn default" (click)="searchStore()">查询
                  <i class="fa fa-search"></i>
                </button>
                <button id="btnReset" type="button" class="btn default" (click)="resetStore()">
                  <i class="fa fa-times"></i>重置</button>
              </div>
            </div>
            <!--  -->
          </div>
        </form>
        <!-- table -->
        <div id="sample_6_wrapper" class="dataTables_wrapper no-footer">
          <div class="table-scrollable">
            <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_6" role="grid"
              aria-describedby="sample_6_info">
              <thead>
                <tr>
                  <th style="width:20px;"> 选择 </th>
                  <th> 门店名称 </th>
                  <th> 门店编码 </th>
                  <th> 门店类型 </th>
                  <th> 机构类型 </th>
                  <th> 所属上级</th>
                  <th> 是否可用</th>
                </tr>
              </thead>
              <tbody>
                <tr role="row" class="odd" *ngFor="let storeitem of storesList;let key=index">
                  <td>
                    <div class="md-checkbox md-checkbox2">
                      <input type="checkbox" title="{{storeitem.sid}}" id="checkbox{{storeitem.sid}}" class="md-check">
                      <label for="checkbox{{storeitem.sid}}">
                        <span></span>
                        <span class="check"></span>
                        <span class="box"></span>
                      </label>
                    </div>
                  </td>
                  <td>
                    <a (click)="itemDetail(storeitem.sid)">{{storeitem.organizationName}}</a>
                  </td>
                  <td>
                    {{storeitem.organizationCode}}
                  </td>
                  <td *ngIf="storeitem.storeType==0">
                    直营
                  </td>
                  <td *ngIf="storeitem.storeType==1">
                    加盟
                  </td>
                  <td *ngIf="storeitem.organizationType==0">
                    公司
                  </td>
                  <td *ngIf="storeitem.organizationType==1">
                    门店
                  </td>
                  <td>
                    {{storeitem.storeParentName}}
                  </td>
                  <td *ngIf="storeitem.organizationStatus==1">
                    可用
                  </td>
                  <td *ngIf="storeitem.organizationStatus==0">
                    禁用
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="clearfix">
            <!-- <div class="box"> -->
            <div id="pagination1" class="page"></div>
            <!-- </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- 提示信息 -->
<!-- <div id="hint" *ngIf="!isHint">
  <div class="hintMsg">{{hintMsg}}
  </div>
</div> -->
<!--确认消息提示框-->
<div id="warnMsgWin" *ngIf="isShowWarnWin" class="div_dialog animated {{btn_type_css}} fadeIn">
  <div class="title_dialog" style="font-size: 19px;line-height: 16px;">系统提示:</div>
  <div class="discription_dialog" style="font-size: 15px;">{{warnMsg}}</div>
  <div class="dialog_divOperation ">
    <span class="btn_span yellow_win_btn_hover_{{btn_type_css}} one_btn_span defalut" data-name="确定" style="padding: 4px 17px; font-size: 14px; height: auto;"
      (click)="closeWin()">确定</span>
  </div>
</div>
<div *ngIf="isShowWarnWin" class="cpt-dw-dialog-mask animated fadeIn" style="background: rgba(0, 0, 0, 0.4);z-index: 10000010;transition: all 0s ease 0s;animation-duration: 0s;"></div>

<!-- 门店详情 -->
<div class="modal fade" id="full" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-full" style="width: 800px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h4 class="modal-title">门店详情</h4>
      </div>
      <div class="modal-body detAll">
        <div class="portlet-body form">
          <div class="form-horizontal">
            <div class="form-body">
              <div class="form-group">
                <label class="col-md-3 control-label">门店名称：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.organizationName}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">门店编码：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.organizationCode}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">所属上级：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{parentName}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">经营类型：</label>
                <div class="col-md-9">
                    <div class="md-radio-inline">
                        <div class="md-radio" *ngFor="let draitem of optwayList;let drakey=index;">
                          <input type="radio" id="dtloptype_{{drakey}}" name="dtlopeType" title="{{draitem.code}}"
                            class="md-radiobtn" disabled>
                          <label for="dtloptype_{{drakey}}">
                            <span></span>
                            <span class="check"></span>
                            <span class="box"></span>
                            {{draitem.name}} </label>
                        </div>
                      </div>
                  <!-- <input type="text" class="form-control input-large" *ngIf="detailList.storeType==0" value="直营"
                    readonly="readonly" />
                  <input type="text" class="form-control input-large" *ngIf="detailList.storeType==1" value="加盟"
                    readonly="readonly" /> -->
                </div>
              </div>
<!--               <div class="form-group" *ngIf="detailList.storeType==1">
                <label class="col-md-3 control-label">加盟商编码：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.parternerCode}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group" *ngIf="detailList.storeType==1">
                <label class="col-md-3 control-label">加盟商名称：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.parternerName}}" readonly="readonly" />
                </div>
              </div> -->
              <div class="form-group">
                <label class="col-md-3 control-label">联系方式：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.telephone}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">传真：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.faxNo}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">负责人：</label>
                <div class="col-md-9">
                  <input type="text" class="form-control input-large" value="{{detailList.shopOwner}}" readonly="readonly" />
                </div>
              </div>
              <div class="form-group">
                  <label class="col-md-3 control-label">省市区：</label>
                  <div class="col-md-9">
                    <input type="text" class="form-control input-large" value="{{provName}}{{cityName}}{{areaName}}"
                      readonly="readonly" />
                  </div>
                </div>
              <div class="form-group">
                <label class="col-md-3 control-label">详细地址：</label>
                <div class="col-md-9">
                  <textarea class="form-control input-large seriesms" value="{{detailList.shopAddress}}" readonly="readonly"></textarea>
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">可售渠道：</label>
                <div class="col-md-9">
                  <!-- <div class="md-checkbox-inline">
                    <div class="md-checkbox" *ngFor="let chanitem of chanList;let chankey=index">
                      <input type="checkbox" id="checkbox{{chankey}}" name="channel" title="{{chanitem}}" class="md-check"
                        checked="" disabled />
                      <label for="checkbox{{chankey}}">
                        <span></span>
                        <span class="check"></span>
                        <span class="box"></span>
                        {{chanitem}} </label>
                    </div>
                  </div> -->
                  <!-- <span class="detRight" *ngFor="let chanitem of chanList;let chankey=index;">{{chanitem}} &nbsp;</span> -->
                  <div class="md-checkbox-inline">
                    <div class="md-checkbox" *ngFor="let chanitem of channelList;let chankey=index">
                      <input type="checkbox" id="dtlcheckbox{{chanitem.sid}}" name="dtlchannel" title="{{chanitem.sid}}"
                        class="md-check" disabled>
                      <input type="checkbox" *ngIf="chanitem.sid==1" id="dtlcheckbox{{chanitem.sid}}" name="dtlchannel"
                        title="{{chanitem.sid}}" class="md-check" checked disabled>
                      <label for="dtlcheckbox{{chanitem.sid}}">
                        <span></span>
                        <span class="check"></span>
                        <span class="box"></span>
                        {{chanitem.channelName}} </label>
                    </div>
                  </div>
                </div>
              </div>
              <!--  -->
            </div>
          </div>
        </div>
        <!--  -->
        <div class="modal-footer" style="text-align: center;">
          <button type="button" class="btn blue" data-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>
  <!-- 加载动图 -->
  <div class="spinner" *ngIf="!isload">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
  </div>
